<?xml version="1.0" encoding="utf-8" ?>
<StackLayout xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:buttons="clr-namespace:Syncfusion.XForms.Buttons;assembly=Syncfusion.Buttons.XForms"
             xmlns:iconize="clr-namespace:Plugin.Iconize;assembly=Plugin.Iconize"
             xmlns:cards="clr-namespace:Syncfusion.XForms.Cards;assembly=Syncfusion.Cards.XForms"
             xmlns:utils="clr-namespace:EatWork.Mobile.Utils" 
             xmlns:gradient="clr-namespace:Syncfusion.XForms.Graphics;assembly=Syncfusion.Core.XForms"
             mc:Ignorable="d"
             x:Class="EatWork.Mobile.Views.Template.RequestFooterTemplate">

    <StackLayout.Resources>
        <ResourceDictionary>

            <Style x:Key="IconImageApproval" TargetType="iconize:IconImage">
                <Setter Property="IconColor" Value="{DynamicResource PrimaryColor}" />
                <Setter Property="HeightRequest" Value="15" />
                <Setter Property="WidthRequest" Value="15" />
            </Style>

            <Style x:Key="CardsFileAttachment" TargetType="cards:SfCardView">
                <Setter Property="HeightRequest" Value="30" />
                <Setter Property="BackgroundColor" Value="Transparent" />
            </Style>

            <Style x:Key="ButtonCancelStyle" TargetType="buttons:SfButton" BasedOn="{StaticResource ButtonStyle}">
                <Setter Property="HorizontalOptions" Value="CenterAndExpand" />
                <Setter Property="VerticalOptions" Value="EndAndExpand" />
                <Setter Property="WidthRequest" Value="245" />
                <Setter Property="HeightRequest" Value="40" />
            </Style>

            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Styles.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </StackLayout.Resources>

    <!--SELECTED FILE ATTACHMENT-->
    <cards:SfCardView HeightRequest="30" IsVisible="{Binding FormHelper.FileData.FileName, Converter={utils:TextToBoolConverter}}">
        <FlexLayout Direction="Row"
                    VerticalOptions="CenterAndExpand"
                    HorizontalOptions="CenterAndExpand"
                    Margin="0,5"
                    JustifyContent="Center">

            <iconize:IconImage HorizontalOptions="Center"
                               VerticalOptions="Center"
                               Icon="{StaticResource FileAttachmentIcon}"
                               Style="{StaticResource IconImageApproval}" />
            <Label Text="File Attachments" TextColor="{DynamicResource PrimaryColor}" HorizontalOptions="Center" VerticalOptions="Center" />
        </FlexLayout>
    </cards:SfCardView>

    <cards:SfCardView Style="{StaticResource CardsFileAttachment}" IsVisible="{Binding FormHelper.FileData.FileName, Converter={utils:TextToBoolConverter}}">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="15" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="15" />
            </Grid.ColumnDefinitions>
            <StackLayout VerticalOptions="CenterAndExpand" HorizontalOptions="StartAndExpand">
                <iconize:IconImage Icon="{StaticResource ReasonIcon}" Style="{StaticResource IconImageApproval}" />
            </StackLayout>
            <StackLayout Grid.Column="1" VerticalOptions="CenterAndExpand" HorizontalOptions="StartAndExpand">
                <Label Grid.Column="1" Text="{Binding FormHelper.FileData.FileName,Mode=TwoWay}"
                       TextColor="{DynamicResource PrimaryColor}"
                       LineBreakMode="TailTruncation"
                       FontSize="{StaticResource Small}"
                       HorizontalOptions="CenterAndExpand"
                       VerticalOptions="CenterAndExpand"
                       VerticalTextAlignment="Center"
                       FontFamily="{DynamicResource Regular}" />
            </StackLayout>
            <StackLayout Grid.Column="2" VerticalOptions="CenterAndExpand" HorizontalOptions="EndAndExpand">
                <iconize:IconImage Icon="fas-trash-alt" Style="{StaticResource IconImageApproval}" IconColor="{StaticResource Error}">
                    <iconize:IconImage.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding RemoveFileAttachedCommand}" />
                    </iconize:IconImage.GestureRecognizers>
                </iconize:IconImage>
            </StackLayout>
        </Grid>
    </cards:SfCardView>

    <FlexLayout Direction="Row"
                VerticalOptions="End"
                Margin="0,10,0,0"
                IsVisible="False"
                JustifyContent="SpaceEvenly">

        <buttons:SfButton Style="{StaticResource btnLoginStyle}"
                          Command="{Binding SubmitCommand}"
                          Margin="0,0,10,0"
                          IsVisible="{Binding FormHelper.IsEnabled}"
                          Text="Submit" />

        <buttons:SfButton Style="{StaticResource ButtonCancelStyle}"
                          Command="{Binding CancelCommand}"
                          Text="Cancel"
                          IsVisible="{Binding FormHelper.ShowCancelButton}"
                          BackgroundColor="{StaticResource Cancel}" />
    </FlexLayout>

    <BoxView Style="{DynamicResource SeparatorStyle}" />

    <Grid  Margin="0,10,0,0"  ColumnSpacing="0">

        <buttons:SfButton x:Name="BtnCamera"
                          HorizontalOptions="Start"
                          IsVisible="{Binding FormHelper.IsEnabled}"
                          BackgroundColor="{StaticResource Transparent}"
                          Command="{Binding CameraCommand}">
            <buttons:SfButton.Content>
                <Grid Margin="0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="54" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <iconize:IconButton Text="{StaticResource CameraIcon}" Style="{StaticResource BtnRequestStyle}" />
                    <Label Text="Take Photo"
                           Style="{StaticResource FooterButtonLabelStyle}" />
                </Grid>
            </buttons:SfButton.Content>
        </buttons:SfButton>

        <buttons:SfButton x:Name="BtnFileAttachment"
                          HorizontalOptions="Center"
                          IsVisible="{Binding FormHelper.IsEnabled}"
                          BackgroundColor="{StaticResource Transparent}"
                          Command="{Binding SelectFileCommand}">
            <buttons:SfButton.Content>
                <Grid Margin="0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="54" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <iconize:IconButton Text="{StaticResource FileAttachmentIcon}" Style="{StaticResource BtnRequestStyle}" />
                    <Label Text="Attach File"
                           Style="{StaticResource FooterButtonLabelStyle}" />
                </Grid>
            </buttons:SfButton.Content>
        </buttons:SfButton>

        <buttons:SfButton x:Name="BtnSubmit"
                          HorizontalOptions="End"
                          IsVisible="{Binding FormHelper.IsEnabled}"
                          BackgroundColor="{StaticResource Transparent}"
                          Command="{Binding SubmitCommand}">
            <buttons:SfButton.Content>
                <Grid Margin="0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="54" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <iconize:IconButton Text="{StaticResource SaveIcon}" Style="{StaticResource BtnRequestStyle}" />
                    <Label Text="Submit"
                           Style="{StaticResource FooterButtonLabelStyle}"/>
                </Grid>
            </buttons:SfButton.Content>
        </buttons:SfButton>

        <buttons:SfButton Style="{StaticResource ButtonCancelStyle}"
                          Command="{Binding CancelCommand}"
                          Text="Cancel"
                          IsVisible="{Binding FormHelper.ShowCancelButton}"/>
    </Grid>

    <Grid  Margin="0,10,0,0"  ColumnSpacing="0" IsVisible="false">

        <buttons:SfButton HorizontalOptions="Start"
                          IsVisible="{Binding FormHelper.IsEnabled}"
                          BackgroundColor="{StaticResource Transparent}"
                          Command="{Binding CameraCommand}">
            <buttons:SfButton.Content>
                <Grid Margin="0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="54" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <iconize:IconButton Text="{StaticResource CameraIcon}" Style="{StaticResource BtnRequestStyle}" />
                    <Label Text="Take Photo"
                           Style="{StaticResource FooterButtonLabelStyle}" />
                </Grid>
            </buttons:SfButton.Content>
        </buttons:SfButton>

        <buttons:SfButton HorizontalOptions="Center"
                          IsVisible="{Binding FormHelper.IsEnabled}"
                          BackgroundColor="{StaticResource Transparent}"
                          Command="{Binding SelectFileCommand}">
            <buttons:SfButton.Content>
                <Grid Margin="0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="54" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <iconize:IconButton Text="{StaticResource FileAttachmentIcon}" Style="{StaticResource BtnRequestStyle}" />
                    <Label Text="Attach File"
                           Style="{StaticResource FooterButtonLabelStyle}" />
                </Grid>
            </buttons:SfButton.Content>
        </buttons:SfButton>

        <buttons:SfButton HorizontalOptions="End"
                          IsVisible="{Binding FormHelper.IsEnabled}"
                          BackgroundColor="{StaticResource Transparent}"
                          Command="{Binding SubmitCommand}">
            <buttons:SfButton.Content>
                <Grid Margin="0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="54" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <iconize:IconButton Text="{StaticResource SaveIcon}" Style="{StaticResource BtnRequestStyle}" />
                    <Label Text="Submit"
                           Style="{StaticResource FooterButtonLabelStyle}"/>
                </Grid>
            </buttons:SfButton.Content>
        </buttons:SfButton>

        <buttons:SfButton HorizontalOptions="Start"
                          IsVisible="{Binding FormHelper.IsEnabled,Converter={utils:InverseBoolConverter}}"
                          BackgroundColor="{StaticResource Transparent}"
                          Command="{Binding SelectFileCommand}">
            <buttons:SfButton.Content>
                <Grid Margin="0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="54" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <iconize:IconButton Text="{StaticResource FileAttachmentIcon}" Style="{StaticResource BtnRequestStyle}" />
                    <Label Text="Attachments"
                           Style="{StaticResource FooterButtonLabelStyle}" />
                </Grid>
            </buttons:SfButton.Content>
        </buttons:SfButton>

        <buttons:SfButton HorizontalOptions="Center"
                          IsVisible="{Binding FormHelper.IsEnabled,Converter={utils:InverseBoolConverter}}"
                          BackgroundColor="{StaticResource Transparent}"
                          Command="{Binding SubmitCommand}">
            <buttons:SfButton.Content>
                <Grid Margin="0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="54" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <iconize:IconButton Text="{StaticResource InfoIcon}" Style="{StaticResource BtnRequestStyle}" />
                    <Label Text="Transaction History"
                           Style="{StaticResource FooterButtonLabelStyle}"/>
                </Grid>
            </buttons:SfButton.Content>
        </buttons:SfButton>


        <buttons:SfButton HorizontalOptions="End"
                          IsVisible="{Binding FormHelper.ShowCancelButton}"
                          BackgroundColor="{StaticResource Transparent}"
                          Command="{Binding CancelCommand}">
            <buttons:SfButton.Content>
                <Grid Margin="0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="54" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <iconize:IconButton Text="{StaticResource CancelIcon}" Style="{StaticResource BtnRequestStyle}" BackgroundColor="{StaticResource Cancel}" />
                    <Label Text="Cancel"
                           Style="{StaticResource FooterButtonLabelStyle}"/>
                </Grid>
            </buttons:SfButton.Content>
        </buttons:SfButton>
    </Grid>

    <!--<FlexLayout Direction="Row"
         VerticalOptions="End"
         Margin="0,10,0,0"
         IsVisible="True"
         JustifyContent="SpaceEvenly">
         
    -->
    <!--<buttons:SfButton Style="{StaticResource btnLoginStyle}"
         x:Name="BtnCamera"
         Margin="0,0,5,0"
         IsVisible="{Binding FormHelper.IsEnabled}"
         Command="{Binding CameraCommand}">
         <buttons:SfButton.Content>
         <Grid Margin="0,10">
         <Grid.RowDefinitions>
         <RowDefinition Height="20" />
         
         <RowDefinition Height="*" />
         </Grid.RowDefinitions>
         
         <iconize:IconImage Icon="{StaticResource CameraIcon}" IconColor="{StaticResource Gray-White}" />
         
         <Label Grid.Row="1"
         HorizontalTextAlignment="Center"
         TextColor="{StaticResource Gray-White}"
         Text="Take Photo" />
         </Grid>
         </buttons:SfButton.Content>
         </buttons:SfButton>
         
         <buttons:SfButton Style="{StaticResource btnLoginStyle}"
         IsVisible="{Binding FormHelper.IsEnabled}"
         Margin="5,0,5,0"
         Command="{Binding SelectFileCommand}">
         <buttons:SfButton.Content>
         <Grid Margin="0,10">
         <Grid.RowDefinitions>
         <RowDefinition Height="20" />
         
         <RowDefinition Height="*" />
         </Grid.RowDefinitions>
         
         <iconize:IconImage Icon="{StaticResource FileAttachmentIcon}"
         IconColor="{StaticResource Gray-White}" />
         
         <Label Grid.Row="1"
         HorizontalTextAlignment="Center"
         TextColor="{StaticResource Gray-White}"
         Text="Attach File" />
         </Grid>
         </buttons:SfButton.Content>
         </buttons:SfButton>-->
    <!--
         
         <buttons:SfButton Style="{StaticResource btnRequestStyle}"
         IsVisible="{Binding FormHelper.IsEnabled}"
         Margin="5,0,0,0"
         Command="{Binding SubmitCommand}">
         <buttons:SfButton.Content>
         <Grid Margin="0,10">
         <Grid.RowDefinitions>
         <RowDefinition Height="20" />
         
         <RowDefinition Height="*" />
         </Grid.RowDefinitions>
         
         <iconize:IconImage Icon="{StaticResource SaveIcon}" IconColor="{StaticResource Gray-White}" />
         
    -->
    <!--<Label Grid.Row="1"
         HorizontalTextAlignment="Center"
         TextColor="{StaticResource Gray-White}"
         Text="Submit" />-->
    <!--
         </Grid>
         </buttons:SfButton.Content>
         </buttons:SfButton>
         </FlexLayout>-->
</StackLayout>